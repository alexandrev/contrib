{
    "name": "getClaims",
    "author": "Alexandre Vazquez",
    "version": "1.0.0",
    "type": "flogo:activity",
    "title": "TCI Stats to Prometheus Format",
    "display": {
        "description": "Adapt from TCI Metrics Stats to Prometheus Format",
        "category": "Default",
        "visible": true
    },
    "feature": {
        "iterator": {
            "type": "iterator",
            "enabled": true
        }
    },
    "ref": "github.com/alexandrev/contrib/activity/tcitoprommetrics",
    "inputs": [
        {
            "name": "appMetrics",
            "type": "object",
            "value": "{\"app\":{\"appId\":\"arsk6ocpgesne56ms7m7wboovgqxnkx7\",\"appName\":\"New_Flogo_App_0\",\"appType\":\"flogo\",\"category\":\"develop\",\"createdTime\":0,\"deploymentStage\":\"draft\",\"deploymentType\":\"TIBCO Cloud\",\"desiredInstanceCount\":1,\"endpointVisibility\":\"public\",\"lastStartedTime\":1614283643433,\"modifiedTime\":1614283627530},\"appInstanceMetrics\":[{\"appInstance\":\"6973d025082c51ae4f73f82d5b9261910fc71e383c3a911bd492dc6d5a83ef3b\",\"appInstanceMetrics\":{\"app_name\":\"New_Flogo_App_0\",\"app_version\":\"1.0.0\",\"flows\":[{\"activities\":{\"LogMessage\":{\"activity_name\":\"LogMessage\",\"avg_exec_time\":0.173,\"completed\":176631,\"failed\":0,\"flow_name\":\"test\",\"max_exec_time\":99.672,\"min_exec_time\":0.095,\"started\":176631}},\"avg_exec_time\":0.245,\"completed\":176631,\"failed\":0,\"flow_name\":\"test\",\"max_exec_time\":99.796,\"min_exec_time\":0.131,\"started\":176631}],\"triggers\":[{\"completed\":176631,\"failed\":0,\"handlers\":{\"test\":{\"completed\":176631,\"config\":{\"interval\":\"1\",\"interval_unit\":\"Second\",\"repeating\":\"true\"},\"failed\":0,\"handler_name\":\"test\",\"started\":176631}},\"started\":176631,\"status\":\"Started\",\"trigger_name\":\"TimerTrigger\"}]}}],\"appMetrics\":{\"tci_app_executions\":[{\"labels\":{\"status\":\"success\"},\"value\":47743},{\"labels\":{\"status\":\"failure\"},\"value\":0}],\"tci_app_instances_cpu\":[{\"labels\":{\"status\":\"max\"},\"value\":2.4000000953674316},{\"labels\":{\"status\":\"min\"},\"value\":0},{\"labels\":{\"status\":\"avg\"},\"value\":0.46964174198100284}],\"tci_app_instances_memory\":[{\"labels\":{\"status\":\"max\"},\"value\":13.9399995803833},{\"labels\":{\"status\":\"min\"},\"value\":7.400000095367432},{\"labels\":{\"status\":\"avg\"},\"value\":9.481018215961088}],\"tci_app_since_last_execution\":[{\"value\":0.32}]}}"
        }
    ],
    "outputs": [
        {
            "name": "data",
            "type": "string"
        }
    ]
}